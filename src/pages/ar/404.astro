---
import Layout from "@layouts/Layout.astro";

// Add new built-in i18n imports
import { getLangFromUrl, useTranslations } from "../../i18n/utils";
import { getRelativeLocaleUrl } from "astro:i18n";

// Get current language and create translation function
const safeUrl = Astro.url || new URL('/', Astro.site || 'http://localhost:4321');
const lang = getLangFromUrl(safeUrl);
const t = useTranslations(lang);

// Helper function to create localized paths
function localizePath(path: string) {
	if (!path || (path && path.startsWith('http')) || path === '#') return path;
	return getRelativeLocaleUrl(lang, path);
}

const title = `خطأ ٤٠٤`;
---

<Layout title="404" dir={lang === 'ar' ? 'rtl' : 'ltr'}>
	<section class="flex items-center h-full p-16">
		<div class="container flex flex-col items-center justify-center px-5 mx-auto my-8">
			<div class="max-w-md text-center">
				<h2 class="mb-8 font-bold text-9xl">
					<span class="sr-only">خطأ</span>
					<span class="text-primary">٤٠٤</span>
				</h2>
				<p class="text-3xl font-semibold md:text-3xl">.عذرًا، لم نتمكن من العثور على هذه الصفحة</p>
				<p class="mt-4 mb-8 text-lg text-muted dark:text-slate-400">.لا تقلق، يمكنك العثور على العديد من الميزات الأخرى على صفحتنا الرئيسية</p>
				<a rel="noopener noreferrer" href={localizePath("/")} class="btn ml-4">العودة إلى الصفحة الرئيسية</a>
			</div>
		</div>
	</section>
</Layout>
